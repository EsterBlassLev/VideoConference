{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Participant } from \"../../../models/participant\";\nimport { participantType } from \"src/app/models/userType.enum\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../ParticipantService\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction ParticipantDetailsComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"this field is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ParticipantDetailsComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"this field is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ParticipantDetailsComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"this field must be at least 2 chars and not more 10 chars\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ParticipantDetailsComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"this field is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ParticipantDetailsComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"this field must be at least 2 chars and not more 10 chars\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ParticipantDetailsComponent_option_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const value_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", value_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(value_r6);\n  }\n}\n\nexport let ParticipantDetailsComponent = /*#__PURE__*/(() => {\n  class ParticipantDetailsComponent {\n    constructor(_participantService, _acr, _cdr, _router) {\n      this._participantService = _participantService;\n      this._acr = _acr;\n      this._cdr = _cdr;\n      this._router = _router;\n      this.participantId = 0;\n      this.participantForm = new FormGroup({\n        \"id\": new FormControl(\"\", Validators.required),\n        \"firstName\": new FormControl(\"\", [Validators.required, Validators.minLength(2), Validators.maxLength(10)]),\n        \"lastName\": new FormControl(\"\", [Validators.required, Validators.minLength(2), Validators.maxLength(10)]),\n        \"job\": new FormControl(\"\", [Validators.required]),\n        \"speaker\": new FormControl(\"\", []),\n        \"video\": new FormControl(\"\", [])\n      });\n      this.participantToSend = new Participant();\n      this.enumValues = Object.values(participantType);\n    } // subscriptionParams: Subscription;\n    // subscriptionGet: Subscription;\n    // subscriptionPut: Subscription;\n\n\n    ngOnInit() {\n      // this.subscriptionParams = this._acr.paramMap.subscribe(param => {\n      //   if (param.get(\"id\") && param.get(\"id\") != undefined) {\n      //     this.participantId = +param.get(\"id\");\n      // this.subscriptionGet = this._participantService.getParticipantById(this.participantId).subscribe(data => {\n      //   this.participant = data;\n      // });\n      this._participant = this._participantService.getParticipantById(this.participantId); //   }\n      // })\n    }\n\n    get participant() {\n      return this._participant;\n    }\n\n    set participant(val) {\n      this._participant = val;\n\n      if (val) {\n        this.participantForm.controls[\"id\"].setValue(val.id);\n        this.participantForm.controls[\"firstName\"].setValue(val.firstName);\n        this.participantForm.controls[\"lastName\"].setValue(val.lastName);\n        this.participantForm.controls[\"job\"].setValue(val.job);\n        this.participantForm.controls[\"speaker\"].setValue(val.speaker);\n        this.participantForm.controls[\"video\"].setValue(val.video);\n      }\n    }\n\n    saveParticipant() {\n      this.participantToSend.id = this.participantForm.controls[\"id\"].value;\n      this.participantToSend.firstName = this.participantForm.controls[\"firstName\"].value;\n      this.participantToSend.lastName = this.participantForm.controls[\"lastName\"].value;\n      this.participantToSend.job = this.participantForm.controls[\"job\"].value;\n      this.participantToSend.speaker = this.participantForm.controls[\"speaker\"].value;\n      this.participantToSend.video = this.participantForm.controls[\"video\"].value;\n\n      this._participantService.updateParticipant(this.participantId, this.participantToSend); // this._participantService.updateParticipant(this.participantId, this.participantToSend).subscribe(data =>\n      // console.log(), err => { console.log(\"update process failed\"); }\n      // );\n\n\n      alert(\"העדכון נשמר בהצלחה!\");\n\n      this._router.navigate([\"/participants\"]);\n    }\n\n  }\n\n  ParticipantDetailsComponent.ɵfac = function ParticipantDetailsComponent_Factory(t) {\n    return new (t || ParticipantDetailsComponent)(i0.ɵɵdirectiveInject(i1.ParticipantService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  ParticipantDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ParticipantDetailsComponent,\n    selectors: [[\"app-participant-details\"]],\n    decls: 33,\n    vars: 7,\n    consts: [[1, \"card\"], [2, \"width\", \"100%\", \"text-align\", \"end\"], [\"src\", \"../../../../assets/images/office.png\", 2, \"margin-top\", \"20px\", \"margin-right\", \"20px\"], [\"id\", \"card\", 1, \"card-body\"], [3, \"formGroup\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"participantid\", \"formControlName\", \"id\", 1, \"form-control\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"type\", \"text\", \"name\", \"participantFirstName\", \"formControlName\", \"firstName\", 1, \"form-control\"], [\"type\", \"text\", \"name\", \"participantLastName\", \"formControlName\", \"lastName\", 1, \"form-control\"], [\"formControlName\", \"job\", 1, \"responsive-select\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [1, \"alert\", \"alert-danger\"], [3, \"ngValue\"]],\n    template: function ParticipantDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"form\", 4)(5, \"div\", 5)(6, \"label\");\n        i0.ɵɵtext(7, \"id:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\");\n        i0.ɵɵelement(9, \"input\", 6);\n        i0.ɵɵtemplate(10, ParticipantDetailsComponent_div_10_Template, 2, 0, \"div\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 5)(12, \"label\");\n        i0.ɵɵtext(13, \"first name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\");\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵtemplate(16, ParticipantDetailsComponent_div_16_Template, 2, 0, \"div\", 7);\n        i0.ɵɵtemplate(17, ParticipantDetailsComponent_div_17_Template, 2, 0, \"div\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 5)(19, \"label\");\n        i0.ɵɵtext(20, \"last name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\");\n        i0.ɵɵelement(22, \"input\", 9);\n        i0.ɵɵtemplate(23, ParticipantDetailsComponent_div_23_Template, 2, 0, \"div\", 7);\n        i0.ɵɵtemplate(24, ParticipantDetailsComponent_div_24_Template, 2, 0, \"div\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"div\", 5)(26, \"label\");\n        i0.ɵɵtext(27, \"job:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\")(29, \"select\", 10);\n        i0.ɵɵtemplate(30, ParticipantDetailsComponent_option_30_Template, 2, 2, \"option\", 11);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(31, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function ParticipantDetailsComponent_Template_button_click_31_listener() {\n          return ctx.saveParticipant();\n        });\n        i0.ɵɵtext(32, \"Save\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.participantForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", (ctx.participantForm.controls[\"id\"].errors == null ? null : ctx.participantForm.controls[\"id\"].errors.required) && ctx.participantForm.controls[\"id\"].touched);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", (ctx.participantForm.controls[\"firstName\"].errors == null ? null : ctx.participantForm.controls[\"firstName\"].errors.required) && ctx.participantForm.controls[\"firstName\"].touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.participantForm.controls[\"firstName\"].errors == null ? null : ctx.participantForm.controls[\"firstName\"].errors.minlength) && (ctx.participantForm.controls[\"firstName\"].errors == null ? null : ctx.participantForm.controls[\"firstName\"].errors.maxlength));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", (ctx.participantForm.controls[\"lastName\"].errors == null ? null : ctx.participantForm.controls[\"lastName\"].errors.required) && ctx.participantForm.controls[\"firstName\"].touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.participantForm.controls[\"lastName\"].errors == null ? null : ctx.participantForm.controls[\"lastName\"].errors.minlength) && (ctx.participantForm.controls[\"firstName\"].errors == null ? null : ctx.participantForm.controls[\"firstName\"].errors.maxlength));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.enumValues);\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i4.NgIf, i3.SelectControlValueAccessor, i4.NgForOf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption],\n    styles: [\".responsive-select[_ngcontent-%COMP%]{width:100%;padding:.5rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}\"]\n  });\n  return ParticipantDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}