{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Participant } from \"../../../models/participant\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../ParticipantService\";\nimport * as i2 from \"@angular/router\";\nexport let ParticipantDetailsComponent = /*#__PURE__*/(() => {\n  class ParticipantDetailsComponent {\n    constructor(_participantService, _acr, _cdr, _router) {\n      this._participantService = _participantService;\n      this._acr = _acr;\n      this._cdr = _cdr;\n      this._router = _router;\n      this.participantId = 0;\n      this.participantForm = new FormGroup({\n        \"id\": new FormControl(\"\", Validators.required),\n        \"firstName\": new FormControl(\"\", [Validators.required, Validators.minLength(2), Validators.maxLength(10)]),\n        \"lastName\": new FormControl(\"\", [Validators.required, Validators.minLength(2), Validators.maxLength(10)]),\n        \"job\": new FormControl(\"\", [Validators.required]),\n        \"speaker\": new FormControl(\"\", [Validators.required]),\n        \"video\": new FormControl(\"\", [Validators.required])\n      });\n      this.participantToSend = new Participant();\n    } // subscriptionParams: Subscription;\n    // subscriptionGet: Subscription;\n    // subscriptionPut: Subscription;\n\n\n    ngOnInit() {\n      // this.subscriptionParams = this._acr.paramMap.subscribe(param => {\n      //   if (param.get(\"id\") && param.get(\"id\") != undefined) {\n      //     this.participantId = +param.get(\"id\");\n      // this.subscriptionGet = this._participantService.getParticipantById(this.participantId).subscribe(data => {\n      //   this.participant = data;\n      // });\n      this._participant = this._participantService.getParticipantById(this.participantId); //   }\n      // })\n    }\n\n    get participant() {\n      return this._participant;\n    }\n\n    set participant(val) {\n      this._participant = val;\n\n      if (val) {\n        this.participantForm.controls[\"id\"].setValue(val.id);\n        this.participantForm.controls[\"firstName\"].setValue(val.firstName);\n        this.participantForm.controls[\"lastName\"].setValue(val.lastName);\n        this.participantForm.controls[\"job\"].setValue(val.job);\n        this.participantForm.controls[\"speaker\"].setValue(val.speaker);\n        this.participantForm.controls[\"video\"].setValue(val.video);\n      }\n    }\n\n    saveVolunteer() {\n      this.participantToSend.id = this.participantForm.controls[\"id\"].value;\n      this.participantToSend.firstName = this.participantForm.controls[\"firstName\"].value;\n      this.participantToSend.lastName = this.participantForm.controls[\"lastName\"].value;\n      this.participantToSend.job = this.participantForm.controls[\"job\"].value;\n      this.participantToSend.speaker = this.participantForm.controls[\"speaker\"].value;\n      this.participantToSend.video = this.participantForm.controls[\"video\"].value;\n\n      this._participantService.updateParticipant(this.participantId, this.participantToSend); // this._participantService.updateParticipant(this.participantId, this.participantToSend).subscribe(data =>\n      // console.log(), err => { console.log(\"update process failed\"); }\n      // );\n\n\n      alert(\"העדכון נשמר בהצלחה!\");\n\n      this._router.navigate([\"/participants\"]);\n    }\n\n  }\n\n  ParticipantDetailsComponent.ɵfac = function ParticipantDetailsComponent_Factory(t) {\n    return new (t || ParticipantDetailsComponent)(i0.ɵɵdirectiveInject(i1.ParticipantService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  ParticipantDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ParticipantDetailsComponent,\n    selectors: [[\"app-participant-details\"]],\n    decls: 0,\n    vars: 0,\n    template: function ParticipantDetailsComponent_Template(rf, ctx) {},\n    styles: [\"\"]\n  });\n  return ParticipantDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}