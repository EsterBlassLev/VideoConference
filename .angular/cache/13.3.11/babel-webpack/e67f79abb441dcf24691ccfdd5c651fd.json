{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../ParticipantService\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = [\"video\"];\nconst _c1 = [\"class\", \"component\"];\n\nfunction ParticipantListComponent_li_1_i_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 13);\n  }\n}\n\nfunction ParticipantListComponent_li_1_i_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 14);\n  }\n}\n\nfunction ParticipantListComponent_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 9)(1, \"div\", 10)(2, \"div\", 11)(3, \"div\", 12)(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, ParticipantListComponent_li_1_i_8_Template, 1, 0, \"i\", 4);\n    i0.ɵɵtemplate(9, ParticipantListComponent_li_1_i_9_Template, 1, 0, \"i\", 5);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const judge_r8 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\" \", judge_r8.firstName, \" \", judge_r8.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", judge_r8.job, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", judge_r8.video);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !judge_r8.video);\n  }\n}\n\nfunction ParticipantListComponent_li_5_i_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 13);\n  }\n}\n\nfunction ParticipantListComponent_li_5_i_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 14);\n  }\n}\n\nfunction ParticipantListComponent_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 9)(1, \"div\", 10)(2, \"div\", 11)(3, \"div\", 12)(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, ParticipantListComponent_li_5_i_8_Template, 1, 0, \"i\", 4);\n    i0.ɵɵtemplate(9, ParticipantListComponent_li_5_i_9_Template, 1, 0, \"i\", 5);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const other_r11 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\" \", other_r11.firstName, \" \", other_r11.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", other_r11.job, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", other_r11.video);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !other_r11.video);\n  }\n}\n\nfunction ParticipantListComponent_i_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 13);\n  }\n}\n\nfunction ParticipantListComponent_i_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 14);\n  }\n}\n\nfunction ParticipantListComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ParticipantListComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.displayScreen();\n    });\n    i0.ɵɵtext(1, \"Display Screen\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ParticipantListComponent_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ParticipantListComponent_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.stopDisplay();\n    });\n    i0.ɵɵtext(1, \"Stop Display\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ParticipantListComponent_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ParticipantListComponent_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.startScreenRecording();\n    });\n    i0.ɵɵtext(1, \"Screen recording\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ParticipantListComponent_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ParticipantListComponent_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.stopScreenRecording();\n    });\n    i0.ɵɵtext(1, \"Stop Screen recording \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let ParticipantListComponent = /*#__PURE__*/(() => {\n  class ParticipantListComponent {\n    constructor(_participantService, _cdr, _router) {\n      this._participantService = _participantService;\n      this._cdr = _cdr;\n      this._router = _router;\n      this.participantsjudge = [];\n      this.participantsOthers = [];\n      this.recordedChunks = [];\n      this.sharedScreen = false;\n      this.recording = false;\n    }\n\n    ngOnInit() {\n      // this.subscribtion=this._participantService.getAllParticipants().subscribe(data=>{\n      //   this.participants=data;\n      //   this._cdr.detectChanges();\n      // })\n      this.participantsjudge = this._participantService.getAllParticipantsjudge();\n      this.participantsOthers = this._participantService.getAllParticipantsOthers();\n      this.videoElement = document.getElementById('videoElement');\n      this.participants = this.participantsjudge.length + this.participantsOthers.length;\n    }\n\n    details(participant) {\n      this._router.navigate([\"/participant/\" + participant.id]);\n    }\n\n    toggleCamera() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (this.cameraStream) {\n          this.cameraStream.getTracks().forEach(track => track.stop());\n          this.videoElement.srcObject = null;\n          this.cameraStream = undefined;\n        } else {\n          navigator.mediaDevices.getUserMedia({\n            video: true\n          }).then(stream => {\n            this.videoElement.srcObject = stream;\n            this.cameraStream = stream;\n          }).catch(error => {\n            console.log('Error accessing camera:', error);\n          });\n        }\n      });\n    }\n\n    displayScreen() {\n      return __awaiter(this, void 0, void 0, function* () {\n        try {\n          this.screenStream = yield navigator.mediaDevices.getDisplayMedia({\n            video: true\n          });\n          this.videoElement.srcObject = this.screenStream;\n        } catch (error) {\n          console.error('Error displaying screen:', error);\n        }\n\n        this.sharedScreen = !this.sharedScreen;\n      });\n    }\n\n    stopDisplay() {\n      this.sharedScreen = !this.sharedScreen;\n\n      if (this.screenStream) {\n        this.screenStream.getTracks().forEach(track => track.stop());\n        this.videoElement.srcObject = null;\n        this.screenStream = null;\n      }\n    }\n\n    startScreenRecording() {\n      return __awaiter(this, void 0, void 0, function* () {\n        try {\n          this.screenStream = yield navigator.mediaDevices.getDisplayMedia({\n            video: true\n          });\n          this.mediaRecorder = new MediaRecorder(this.screenStream);\n\n          this.mediaRecorder.ondataavailable = event => {\n            if (event.data.size > 0) {\n              this.recordedChunks.push(event.data);\n            }\n          };\n\n          this.mediaRecorder.start();\n          this.recording = !this.recording;\n        } catch (error) {\n          console.error('Error starting screen recording:', error);\n        } // part.recording =!part.recording;\n\n      });\n    }\n\n    stopScreenRecording() {\n      // part.recording=!part.recording;\n      if (this.mediaRecorder && this.mediaRecorder.state !== 'inactive') {\n        this.mediaRecorder.stop();\n      }\n\n      this.downloadRecording();\n    }\n\n    downloadRecording() {\n      const blob = new Blob(this.recordedChunks, {\n        type: 'video/webm'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      document.body.appendChild(a);\n      a.style.display = 'none';\n      a.href = url;\n      a.download = 'screen-recording.webm';\n      a.click();\n      window.URL.revokeObjectURL(url);\n    }\n\n  }\n\n  ParticipantListComponent.ɵfac = function ParticipantListComponent_Factory(t) {\n    return new (t || ParticipantListComponent)(i0.ɵɵdirectiveInject(i1.ParticipantService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  ParticipantListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ParticipantListComponent,\n    selectors: [[\"app-participant-list\", 8, \"component\"]],\n    viewQuery: function ParticipantListComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.video = _t.first);\n      }\n    },\n    attrs: _c1,\n    decls: 25,\n    vars: 9,\n    consts: [[1, \"list-group\", \"participant-list\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"button-list\", 2, \"display\", \"flex\", \"justify-content\", \"center\"], [3, \"click\"], [\"class\", \"fa fa-video-camera\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"class\", \"fa fa-video-camera-slash\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [2, \"display\", \"flex\", \"flex-direction\", \"column\", \"align-items\", \"end\", \"margin-top\", \"-300px\", \"padding-bottom\", \"300px\", \"background-color\", \"#12101a\"], [2, \"color\", \"white\"], [1, \"list-group-item\"], [1, \"row\", \"participant-card\"], [1, \"col-4\"], [1, \"colorDetails\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-video-camera\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-video-camera-slash\"]],\n    template: function ParticipantListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ul\", 0);\n        i0.ɵɵtemplate(1, ParticipantListComponent_li_1_Template, 10, 5, \"li\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"br\")(3, \"br\");\n        i0.ɵɵelementStart(4, \"ul\", 0);\n        i0.ɵɵtemplate(5, ParticipantListComponent_li_5_Template, 10, 5, \"li\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function ParticipantListComponent_Template_button_click_7_listener() {\n          return ctx.toggleCamera();\n        });\n        i0.ɵɵtext(8, \"open camera \");\n        i0.ɵɵtemplate(9, ParticipantListComponent_i_9_Template, 1, 0, \"i\", 4);\n        i0.ɵɵtemplate(10, ParticipantListComponent_i_10_Template, 1, 0, \"i\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, ParticipantListComponent_button_11_Template, 2, 0, \"button\", 6);\n        i0.ɵɵtemplate(12, ParticipantListComponent_button_12_Template, 2, 0, \"button\", 6);\n        i0.ɵɵtemplate(13, ParticipantListComponent_button_13_Template, 2, 0, \"button\", 6);\n        i0.ɵɵtemplate(14, ParticipantListComponent_button_14_Template, 2, 0, \"button\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"footer\")(16, \"div\", 7)(17, \"button\", 8);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"button\");\n        i0.ɵɵtext(20, \"\\u05E4\\u05E8\\u05D8\\u05D9 \\u05D3\\u05D9\\u05D5\\u05DF\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"button\");\n        i0.ɵɵtext(22, \"\\u05DE\\u05E0\\u05D4\\u05DC \\u05D3\\u05D9\\u05D5\\u05DF\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"button\");\n        i0.ɵɵtext(24, \"\\u05D4\\u05D2\\u05D3\\u05E8\\u05D5\\u05EA\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.participantsjudge);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.participantsOthers);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.video);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.video);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.sharedScreen);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.sharedScreen);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.sharedScreen);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.sharedScreen);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"\\u05D0\\u05E0\\u05E9\\u05D9\\u05DD: \", ctx.participants, \"\");\n      }\n    },\n    directives: [i3.NgForOf, i3.NgIf],\n    styles: [\".participant-list[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center;flex-direction:row}.colorDetails[_ngcontent-%COMP%]{background-color:#fff;padding:auto;margin:auto;border-radius:20px;text-align:center}.button-list[_ngcontent-%COMP%]{display:flex;grid-gap:20px;gap:20px}.participant-card[_ngcontent-%COMP%]{background-image:url(men.jpeg);background-repeat:no-repeat;background-size:cover;padding:30px;border-radius:5px}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#3498db;color:#fff;font-size:16px;text-align:center;border:none;border-radius:5px;cursor:pointer}@media only screen and (max-width: 480px){button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}}@media only screen and (max-width: 480px) and (max-width: 768px){.participant-list[_ngcontent-%COMP%]{grid-template-columns:1fr}button[_ngcontent-%COMP%]{padding:8px 16px;font-size:14px}footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center!important;margin-top:10px!important;padding-bottom:10px!important}}\"]\n  });\n  return ParticipantListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}