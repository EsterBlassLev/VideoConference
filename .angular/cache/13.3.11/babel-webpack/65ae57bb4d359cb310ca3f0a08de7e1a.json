{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { Participant } from \"../../../models/participant\";\nimport { participantType } from \"src/app/models/userType.enum\";\nlet ParticipantDetailsComponent = class ParticipantDetailsComponent {\n  constructor(_participantService, _acr, _cdr, _router) {\n    this._participantService = _participantService;\n    this._acr = _acr;\n    this._cdr = _cdr;\n    this._router = _router;\n    this.participantId = 0;\n    this.participantForm = new FormGroup({\n      \"id\": new FormControl(\"\", Validators.required),\n      \"firstName\": new FormControl(\"\", [Validators.required, Validators.minLength(2), Validators.maxLength(10)]),\n      \"lastName\": new FormControl(\"\", [Validators.required, Validators.minLength(2), Validators.maxLength(10)]),\n      \"job\": new FormControl(\"\", [Validators.required]),\n      \"speaker\": new FormControl(\"\", [Validators.required]),\n      \"video\": new FormControl(\"\", [Validators.required])\n    });\n    this.participantToSend = new Participant();\n    this.enumValues = Object.values(participantType);\n  } // subscriptionParams: Subscription;\n  // subscriptionGet: Subscription;\n  // subscriptionPut: Subscription;\n\n\n  ngOnInit() {\n    // this.subscriptionParams = this._acr.paramMap.subscribe(param => {\n    //   if (param.get(\"id\") && param.get(\"id\") != undefined) {\n    //     this.participantId = +param.get(\"id\");\n    // this.subscriptionGet = this._participantService.getParticipantById(this.participantId).subscribe(data => {\n    //   this.participant = data;\n    // });\n    this._participant = this._participantService.getParticipantById(this.participantId); //   }\n    // })\n  }\n\n  get participant() {\n    return this._participant;\n  }\n\n  set participant(val) {\n    this._participant = val;\n\n    if (val) {\n      this.participantForm.controls[\"id\"].setValue(val.id);\n      this.participantForm.controls[\"firstName\"].setValue(val.firstName);\n      this.participantForm.controls[\"lastName\"].setValue(val.lastName);\n      this.participantForm.controls[\"job\"].setValue(val.job);\n      this.participantForm.controls[\"speaker\"].setValue(val.speaker);\n      this.participantForm.controls[\"video\"].setValue(val.video);\n    }\n  }\n\n  saveVolunteer() {\n    this.participantToSend.id = this.participantForm.controls[\"id\"].value;\n    this.participantToSend.firstName = this.participantForm.controls[\"firstName\"].value;\n    this.participantToSend.lastName = this.participantForm.controls[\"lastName\"].value;\n    this.participantToSend.job = this.participantForm.controls[\"job\"].value;\n    this.participantToSend.speaker = this.participantForm.controls[\"speaker\"].value;\n    this.participantToSend.video = this.participantForm.controls[\"video\"].value;\n\n    this._participantService.updateParticipant(this.participantId, this.participantToSend); // this._participantService.updateParticipant(this.participantId, this.participantToSend).subscribe(data =>\n    // console.log(), err => { console.log(\"update process failed\"); }\n    // );\n\n\n    alert(\"העדכון נשמר בהצלחה!\");\n\n    this._router.navigate([\"/participants\"]);\n  }\n\n};\nParticipantDetailsComponent = __decorate([Component({\n  selector: 'app-participant-details',\n  templateUrl: './participant-details.component.html',\n  styleUrls: ['./participant-details.component.scss'] //changeDetection:ChangeDetectionStrategy.OnPush\n\n})], ParticipantDetailsComponent);\nexport { ParticipantDetailsComponent };","map":null,"metadata":{},"sourceType":"module"}